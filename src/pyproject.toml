[tool.black]
line-length = 120
target-version = ["py311"]
skip-string-normalization = true

[tool.isort]
profile = "black"
line_length = 120
multi_line_output = 0
combine_as_imports = true
include_trailing_comma = true
use_parentheses = true
# Ensure imports are always absolute and consistently ordered
force_alphabetical_sort_within_sections = true
force_sort_within_sections = true
known_first_party = ["spotmicroai"]
src_paths = ["src"]

[tool.pylint.master]
ignore = ["venv"]
# Ensure absolute imports work by adding current directory to sys.path
init-hook = "import sys, os; sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))"

[tool.pylint.typecheck]
ignored-modules = [
    "board",
    "adafruit_pca9685",
    "adafruit_motor",
    "RPi.GPIO",
    "RPi",
    "busio",
    "smbus",
]

[tool.pylint."MESSAGES CONTROL"]
# Disable noisy or irrelevant warnings
disable = [
    "C0114",  # missing-module-docstring
    "C0115",  # missing-class-docstring
    "C0116",  # missing-function-docstring
    "W0718",  # broad-exception-caught
    "R0402",  # consider-using-from-import
    "R0904",  # too-many-public-methods
    "R0902",  # too-many-instance-attributes
]
# Explicitly enable rule to disallow relative imports
enable = [
    "relative-beyond-top-level",
]

[tool.pylint.format]
max-line-length = 120

[tool.flake8]
max-line-length = 120
ignore = ["E203", "W503"]
exclude = ["venv", "__pycache__", "build", "dist"]

[tool.pyright]
include = ["."]
pythonVersion = "3.11"
useLibraryCodeForTypes = true
ignore = ["adafruit_motor"]
exclude = ["**/venv", "**/__pycache__", "build", "dist", "tests/helpers"]
typeCheckingMode = "strict"
reportPrivateUsage = "error"
reportUnusedImport = "error"
reportUnusedVariable = "error"
reportUndefinedVariable = "error"
reportGeneralTypeIssues = "error"
reportOptionalMemberAccess = "error"
reportOptionalSubscript = "error"
reportOptionalCall = "error"
reportOptionalIterable = "error"
reportOptionalContextManager = "error"
reportOptionalOperand = "error"
reportTypedDictNotRequiredAccess = "error"
reportConstantRedefinition = "error"
reportInvalidTypeForm = "error"
reportIncompatibleMethodOverride = "error"
reportIncompatibleVariableOverride = "error"

